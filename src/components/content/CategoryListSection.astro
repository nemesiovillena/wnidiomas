---
import { type Categoria, type Plato } from '../../payload-types';
import DishListItem from './DishListItem.astro';

interface Props {
  category: Categoria;
  dishes: Plato[];
}

const { category, dishes } = Astro.props;
---

<div id={category.slug} class="scroll-mt-32 mb-16 last:mb-0">
  <div class="mb-6 pb-3 border-b-2 border-primary/40">
    <h2 class="text-2xl md:text-3xl font-display font-bold text-primary uppercase tracking-wide">
      {category.nombre}
    </h2>
    {category.descripcion && (
      <p class="text-white/50 text-sm mt-1 italic">
        {category.descripcion}
      </p>
    )}
  </div>

  {dishes.length > 0 ? (
    <div class="animate-stagger-container">
      {dishes.map((dish) => (
        <div class="animate-stagger-item">
          <DishListItem plato={dish} />
        </div>
      ))}
    </div>
  ) : (
    <p class="text-white/40 italic py-4">No hay platos disponibles en esta categor√≠a.</p>
  )}
</div>
