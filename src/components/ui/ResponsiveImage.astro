---
interface Props {
  src: string;
  alt: string;
  class?: string;
  sizes?: string; // e.g. "(min-width: 1024px) 1024px, 100vw"
  aspectRatio?: string; // e.g. "16/9"
  lazy?: boolean;
}

const { src, alt, class: className = '', sizes = "100vw", aspectRatio, lazy = true } = Astro.props;

// Simple helper to generate dummy placeholder if no src (development)
// In production with Payload, src should be a full URL from the media collection
const imageSrc = src || '/images/placeholder.jpg';
---

<div class:list={["overflow-hidden bg-white/5", className]} style={aspectRatio ? `aspect-ratio: ${aspectRatio};` : ''}>
  <img
    src={imageSrc}
    alt={alt}
    loading={lazy ? "lazy" : "eager"}
    class="w-full h-full object-cover transition-transform duration-700 hover:scale-105"
  />
</div>
